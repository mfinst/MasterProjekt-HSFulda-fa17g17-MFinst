<!--
  Generated template for the MessagesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="dark">
    <ion-title>{{this.authService.getUserInfo().email}}</ion-title>
  </ion-navbar>
  <ion-segment [(ngModel)]="subject">
    <ion-segment-button value="KaufenMieten">
      Buy or Rent Request
    </ion-segment-button>
    <ion-segment-button value="Besichtigung">
      Inspection Date Request
    </ion-segment-button>
    <ion-segment-button value="Information">
      Information Request
    </ion-segment-button>
    <ion-segment-button value="Anderer">
      Other Subject
    </ion-segment-button>
  </ion-segment>
</ion-header>


<ion-content padding>
  <div [ngSwitch]="subject">
    <div *ngSwitchCase="'KaufenMieten'">

      <div *ngIf="buySellMsgs.length === 0">
        No Messages!
      </div>
      <ion-card *ngFor="let message of buySellMsgs">
        <ion-item>
          <h2>{{message.Titel}}</h2>
          <p>From: {{message.absender_email}}</p>
          <p>To: {{message.empfanger_email}}</p>
        </ion-item>
        <ion-card-content>
          {{message.nachricht}}
        </ion-card-content>
        <ion-row>
          <ion-col> {{message.date}}</ion-col>
          <ion-col>
            <ion-buttons>
              <button ion-button (click)="answerMessage(message)">
                <ion-icon name="mail"></ion-icon>
              </button>
            </ion-buttons>
          </ion-col>
        </ion-row>
      </ion-card>

    </div>
    <div *ngSwitchCase="'Besichtigung'">

      <div *ngIf="inspecMsgs.length === 0">
        No Messages!
      </div>
      <ion-card *ngFor="let message of inspecMsgs">
        <ion-item>
          <h2>{{message.Titel}}</h2>
          <p>From: {{message.absender_email}}</p>
          <p>To: {{message.empfanger_email}}</p>
        </ion-item>
        <ion-card-content>
          {{message.nachricht}}
        </ion-card-content>
        <ion-row>
          <ion-col> {{message.date}}</ion-col>
          <ion-col>
            <ion-buttons>
              <button ion-button (click)="answerMessage(message)">
                <ion-icon name="mail"></ion-icon>
              </button>
            </ion-buttons>
          </ion-col>
        </ion-row>
      </ion-card>

    </div>
    <div *ngSwitchCase="'Information'">

      <div *ngIf="infoMsgs.length === 0">
        No Messages!
      </div>
      <ion-card *ngFor="let message of infoMsgs">
        <ion-item>
          <h2>{{message.Titel}}</h2>
          <p>From: {{message.absender_email}}</p>
          <p>To: {{message.empfanger_email}}</p>
        </ion-item>
        <ion-card-content>
          {{message.nachricht}}
        </ion-card-content>
        <ion-row>
          <ion-col> {{message.date}}</ion-col>
          <ion-col>
            <ion-buttons>
              <button ion-button (click)="answerMessage(message)">
                <ion-icon name="mail"></ion-icon>
              </button>
            </ion-buttons>
          </ion-col>
        </ion-row>
      </ion-card>

    </div>
    <div *ngSwitchCase="'Anderer'">

      <div *ngIf="otherMsgs.length === 0">
        No Messages!
      </div>
      <ion-card *ngFor="let message of otherMsgs">
        <ion-item>
          <h2>{{message.Titel}}</h2>
          <p>From: {{message.absender_email}}</p>
          <p>To: {{message.empfanger_email}}</p>
        </ion-item>
        <ion-card-content>
          {{message.nachricht}}
        </ion-card-content>
        <ion-row>
          <ion-col> {{message.date}}</ion-col>
          <ion-col>
            <ion-buttons>
              <button ion-button (click)="answerMessage(message)">
                <ion-icon name="mail"></ion-icon>
              </button>
            </ion-buttons>
          </ion-col>
        </ion-row>
      </ion-card>

    </div>
  </div>
  <ion-fab style="position: absolute; bottom: 25px; right: 25px;">
    <button ion-fab (click)="writeNewMessage()">
      <ion-icon name="ios-add"></ion-icon>
    </button>
  </ion-fab>
</ion-content>
